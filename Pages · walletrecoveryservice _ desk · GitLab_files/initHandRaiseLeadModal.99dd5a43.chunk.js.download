(this.webpackJsonp=this.webpackJsonp||[]).push([[597],{"+GbX":function(t,e,a){"use strict";a.r(e);a("byxs");var n=a("ewH8"),o=a("NmEs"),i=a("cbYe"),s=a("u66Y"),r=a("l5WF"),l=a("PrLL"),c=a("Gjpj"),m=a("47in"),u=a("1cpz"),d=a("dWqy"),p=a("jlnU"),h=a("/lV4"),f=a("ygVz"),b=a("Fe4Q"),y=a("1tgW"),g=a("GuZl"),_=a("EA3b"),N=a("9wUn"),v={name:"HandRaiseLeadModal",components:{GlFormGroup:r.a,GlFormInput:l.a,GlFormSelect:c.a,GlFormTextarea:m.a,GlModal:u.a,CountryOrRegionSelector:b.a},mixins:[f.b.mixin()],props:{user:{type:Object,required:!0},submitPath:{type:String,required:!0}},data(){return{firstName:this.user.firstName,lastName:this.user.lastName,companyName:this.user.companyName,companySize:null,phoneNumber:"",country:"",state:"",comment:"",stateRequired:!1,ctaTracking:{},glmContent:"",productInteraction:""}},computed:{modalHeaderText(){return Object(h.sprintf)(this.$options.i18n.modalHeaderText,{userName:this.user.userName})},canSubmit(){return this.firstName&&this.lastName&&this.companyName&&this.companySize&&this.phoneNumber&&this.country&&(!this.stateRequired||this.state)},actionPrimary(){return{text:this.$options.i18n.modalPrimary,attributes:{variant:"confirm",disabled:!this.canSubmit,class:"gl-w-full sm:gl-w-auto"}}},actionCancel(){return{text:this.$options.i18n.modalCancel,attributes:{class:"gl-w-full sm:gl-w-auto"}}},tracking(){return{label:i.e,experiment:this.ctaTracking.experiment}},companySizeOptionsWithDefault(){return[{name:this.$options.i18n.companySizeSelectPrompt,id:null},...y.i]},formParams(){return{namespaceId:Number(this.user.namespaceId),firstName:this.firstName,lastName:this.lastName,companyName:this.companyName,companySize:this.companySize,phoneNumber:this.phoneNumber,country:this.country,state:this.stateRequired?this.state:null,comment:this.comment,glmContent:this.glmContent,productInteraction:this.productInteraction}}},mounted(){var t=this;N.a.$on("openModal",(function(e){t.openModal(e)}))},methods:{openModal({productInteraction:t,ctaTracking:e,glmContent:a}){this.productInteraction=t,this.ctaTracking=e,this.glmContent=a,this.$root.$emit(g.c,this.$options.modalId),this.track("hand_raise_form_viewed")},resetForm(){this.firstName="",this.lastName="",this.companyName="",this.companySize=null,this.phoneNumber="",this.country="",this.state="",this.comment="",this.stateRequired=!1},async submit(){var t=this;await d.b(this.submitPath,this.formParams).then((function(){Object(p.createAlert)({message:t.$options.i18n.handRaiseActionSuccess,variant:p.VARIANT_SUCCESS}),t.resetForm(),t.track("hand_raise_submit_form_succeeded")})).catch((function(e){Object(p.createAlert)({message:t.$options.i18n.handRaiseActionError,captureError:!0,error:e}),t.track("hand_raise_submit_form_failed")}))},onChange({country:t,state:e,stateRequired:a}){this.country=t,this.state=e,this.stateRequired=a}},i18n:{firstNameLabel:y.f,lastNameLabel:y.g,companyNameLabel:y.b,companySizeLabel:y.c,phoneNumberLabel:y.h,companySizeSelectPrompt:_.b,phoneNumberDescription:i.l,commentLabel:i.b,modalTitle:i.k,modalPrimary:i.j,modalCancel:i.f,modalHeaderText:i.h,modalFooterText:i.g,handRaiseActionError:i.c,handRaiseActionSuccess:i.d},modalId:i.i},$=a("tBpV"),x=Object($.a)(v,(function(){var t=this,e=t._self._c;return e("gl-modal",{ref:"modal",attrs:{"modal-id":t.$options.modalId,"data-testid":"hand-raise-lead-modal",size:"sm",title:t.$options.i18n.modalTitle,"action-primary":t.actionPrimary,"action-cancel":t.actionCancel},on:{primary:t.submit,cancel:function(e){return t.track("hand_raise_form_canceled")}}},[t._v("\n  "+t._s(t.modalHeaderText)+"\n  "),e("div",{staticClass:"combined gl-mt-5 gl-flex"},[e("gl-form-group",{staticClass:"mr-3 w-50",attrs:{label:t.$options.i18n.firstNameLabel,"label-size":"sm","label-for":"first-name"}},[e("gl-form-input",{staticClass:"form-control",attrs:{id:"first-name",type:"text","data-testid":"first-name"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),t._v(" "),e("gl-form-group",{staticClass:"w-50",attrs:{label:t.$options.i18n.lastNameLabel,"label-size":"sm","label-for":"last-name"}},[e("gl-form-input",{staticClass:"form-control",attrs:{id:"last-name",type:"text","data-testid":"last-name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)],1),t._v(" "),e("div",{staticClass:"combined gl-flex"},[e("gl-form-group",{staticClass:"mr-3 w-50",attrs:{label:t.$options.i18n.companyNameLabel,"label-size":"sm","label-for":"company-name"}},[e("gl-form-input",{staticClass:"form-control",attrs:{id:"company-name",type:"text","data-testid":"company-name"},model:{value:t.companyName,callback:function(e){t.companyName=e},expression:"companyName"}})],1),t._v(" "),e("gl-form-group",{staticClass:"w-50",attrs:{label:t.$options.i18n.companySizeLabel,"label-size":"sm","label-for":"company-size"}},[e("gl-form-select",{attrs:{name:"company-size",options:t.companySizeOptionsWithDefault,"value-field":"id","text-field":"name","data-testid":"company-size"},model:{value:t.companySize,callback:function(e){t.companySize=e},expression:"companySize"}})],1)],1),t._v(" "),e("gl-form-group",{attrs:{label:t.$options.i18n.phoneNumberLabel,"label-size":"sm",description:t.$options.i18n.phoneNumberDescription,"label-for":"phone-number"}},[e("gl-form-input",{staticClass:"form-control",attrs:{id:"phone-number",type:"text","data-testid":"phone-number"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1),t._v(" "),e("country-or-region-selector",{attrs:{country:t.country,state:t.state},on:{change:t.onChange}}),t._v(" "),e("gl-form-group",{attrs:{label:t.$options.i18n.commentLabel,"label-size":"sm","label-for":"comment"}},[e("gl-form-textarea",{attrs:{"no-resize":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),e("p",{staticClass:"gl-text-gray-400"},[t._v("\n    "+t._s(t.$options.i18n.modalFooterText)+"\n  ")])],1)}),[],!1,null,null,null).exports;e.default=function(){let t;return function(){if(!t){const e=document.querySelector(".js-hand-raise-lead-modal");if(!e)return!1;const{user:a,submitPath:r}=e.dataset;t=new n.default({el:e,apolloProvider:s.a,name:"HandRaiseLeadModalRoot",render:function(t){return t(x,{props:{user:Object(o.h)(JSON.parse(a)),submitPath:r,modalId:i.i}})}})}return t}}()},"7xOh":function(t,e,a){"use strict";a("Tznw"),a("IYH6"),a("6yen"),a("OeRx"),a("l/dT"),a("RqS2"),a("Zy7a"),a("cjZU"),a("OAhk"),a("X42P"),a("mHhP"),a("fn0I"),a("UB/6"),a("imhG"),a("v2fZ"),a("UezY"),a("z6RN"),a("hG7+"),a("ZzK0"),a("BzOf");class n{constructor(){this.$_all=new Map}dispose(){this.$_all.clear()}$on(t,e){const a=this.$_all.get(t);a&&a.push(e)||this.$_all.set(t,[e])}$off(t,e){const a=this.$_all.get(t)||[],n=e?a.filter((function(t){return t!==e})):[];n.length?this.$_all.set(t,n):this.$_all.delete(t)}$once(t,e){var a=this;const n=function(...o){a.$off(t,n),e(...o)};this.$on(t,n)}$emit(t,...e){(this.$_all.get(t)||[]).forEach((function(t){t(...e)}))}}e.a=function(){return new n}},"9wUn":function(t,e,a){"use strict";var n=a("7xOh");e.a=Object(n.a)()},cbYe:function(t,e,a){"use strict";a.d(e,"l",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"k",(function(){return r})),a.d(e,"j",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"h",(function(){return m})),a.d(e,"g",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"d",(function(){return p})),a.d(e,"e",(function(){return h})),a.d(e,"i",(function(){return f})),a.d(e,"m",(function(){return b}));var n=a("/lV4");const o=Object(n.__)("Provide a number our sales team can use to call you."),i=Object(n.s__)("PQL|Message for the Sales team (optional)"),s=Object(n.s__)("PQL|Contact sales"),r=Object(n.s__)("PQL|Contact our Sales team"),l=Object(n.s__)("PQL|Submit information"),c=Object(n.s__)("PQL|Cancel"),m=Object(n.s__)("PQL|Hello %{userName}. Before putting you in touch with our sales team, we would like you to verify and complete the information below."),u=Object(n.s__)("PQL|By providing my contact information, I agree GitLab may contact me via email about its product, services and events. You may opt-out at any time by unsubscribing in emails or visiting our communication preference center."),d=Object(n.s__)("PQL|An error occurred while sending hand raise lead."),p=Object(n.s__)("PQL|Thank you for reaching out! Our sales team will get back to you soon."),h="hand_raise_lead_form",f="hand-raise-modal",b="Hand Raise PQL"}}]);
//# sourceMappingURL=initHandRaiseLeadModal.99dd5a43.chunk.js.map